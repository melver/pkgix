
version=3.2.3
description="Python version $version"
depends=("gdbm-1.10")

isinstalled() {
	return 1
}

iscompat() {
	return 0
}

build() {
	fetch_extract "http://www.python.org/ftp/python/${version}/Python-${version}.tar.bz2" \
		"5648ec81f93870fde2f0aa4ed45c8718692b15ce6fd9ed309bfb827ae12010aa"

	cd "Python-${version}"

	# Version 3.2.3 required this last
	fetch "http://bugs.python.org/file24922/_posixmodule.patch" "493a1d8257b1aa4eb54266b95e3e272aa3be2cc9db1bcfc00e61cb6385146af5"
	patch -Np1 < _posixmodule.patch

	./configure --prefix="$1" CFLAGS="-I$1/include" LDFLAGS="-L$1/lib"
	make
}

installenv() {
	make DESTDIR="$2" install
}

# vim: set ft=sh :
