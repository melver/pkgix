
version=4.4.7
description="The GCC compiler version $version"
depends=()

is_installed() {
	gcc --version | grep -q "$version" &> /dev/null
}

build() {
	fetch_extract "http://www.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/gcc-${version}" "gcc-${version}.tar.bz2"

	cd "gcc-${version}"

	./configure \
		--prefix="$1" \
		--mandir=/usr/share/man \
		--infodir=/usr/share/info \
		--libdir=/usr/lib \
		--libexecdir=/usr/lib \
		--enable-shared \
		--enable-languages=c,c++,fortran,objc,obj-c++ \
		--enable-__cxa_atexit \
		--disable-libstdcxx-pch \
		--disable-multilib \
		--disable-libgomp \
		--disable-libmudflap \
		--disable-libssp \
		--enable-clocale=gnu \
		--with-tune=generic \
		--with-cloog \
		--with-ppl \
		--with-system-zlib

	make
	make DESTDIR="$2" install
}

# vim: set ft=sh :
